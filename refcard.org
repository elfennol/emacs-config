#+TITLE: Emacs

- C: independent unit
- M: unit of language
- X: eXtend
- C-h: help
- C-x: windows, files, buffers, ...
- C-c: user reserved, custom keys

* Emacs

- [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Glossary.html][Glossary]]

** General

| Key         | Function                   |
|-------------+----------------------------|
| C-h ?       | help-for-help              |
| C-g         | keyboard-quit              |
| C-x C-c     | save-buffers-kill-terminal |
| C-x k       | kill-buffer                |
| C-z         | suspend-frame              |
| M-x         | execute-extended-command   |
|             | recover-this-file          |
| ESC ESC ESC | keyboard-escape-quit       |
| M-!         | shell-command              |

** Menu

- [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Menu-Mouse-Clicks.html][Mouse Clicks for Menus]]

| Key              | Function          | Description        |
|------------------+-------------------+--------------------|
| F10              | menu-bar-open     |                    |
| S-F10            | context-menu-open |                    |
| C-<down-mouse-1> | mouse-buffer-menu |                    |
| C-<down-mouse-3> |                   | Mode specific menu |

** Repeat

| Key     | Function          |
|---------+-------------------|
| C-u [n] | universal-command |
| M-{n}   |                   |

** Move

| Key   | Function            |
|-------+---------------------|
| C-v   | scroll-up-command   |
| M-v   | scroll-down-command |
| C-l   | recenter-top-bottom |
| C-f   | forward-char        |
| C-b   | backward-char       |
| M-f   | forward-word        |
| M-b   | backward-word       |
| C-n   | next-line           |
| C-p   | previous-line       |
| C-a   | beginning-of-line   |
| C-e   | end-of-line         |
| M-a   | backward-sentence   |
| M-e   | forward-sentence    |
| M-<   | beginning-of-buffer |
| M->   | end-of-buffer       |
| M-g g | goto-line           |

** Search

| Key | Function         |
|-----+------------------|
| C-s | isearch-forward  |
| C-r | isearch-backward |

** Select & Delete & Kill & Undo & Yank & Replace

/!\ Difference between killing text and deleting text: killed text can be reinserted.

| Key       | Function                | Description                    |
|-----------+-------------------------+--------------------------------|
| C-SPC     | set-mark-command        |                                |
| C-x C-x   | exchange-point-and-mark |                                |
| C-u C-SPC |                         | Cycle through ring of marks    |
| DEL       | delete-backward-char    |                                |
| C-d       | delete-char             |                                |
| M-DEL     | backward-kill-word      |                                |
| M-d       | kill-word               |                                |
| C-k       | kill-line               |                                |
| M-k       | kill-sentence           |                                |
| C-w       | kill-region             |                                |
| M-w       | kill-ring-save          |                                |
| C-x u     | undo                    |                                |
| C-/       | undo                    |                                |
| C-y       | yank                    |                                |
| M-y       | yank-pop                |                                |
| M-%       | query-replace           |                                |
| C-M-s     | isearch-forward-regexp  |                                |
|           | re-builder              | Construct regexp interactively |
|           | occur                   | Show all matches in a buffer   |
| M-s h u   | unhighlight-regexp      |                                |

** Frame & Windows

| Key       | Function                            |
|-----------+-------------------------------------|
| C-x 0     | delete-window                       |
| C-x 1     | delete-other-windows                |
| C-x 2     | split-window-below                  |
| C-x 3     | split-window-right                  |
| C-x o     | other-window                        |
| C-M-v     | scroll-other-window                 |
| C-M-S-v   | scroll-other-window-down            |
| C-x 4 C-f | find-file-other-window              |
| C-x 4 f   |                                     |
| C-x 5 0   | delete-frame                        |
| C-x 5 1   | delete-other-frames                 |
| C-x 5 2   | make-frame-command                  |
| C-x -     | shrink-window-if-larger-than-buffer |
| C-x +     | balance-windows                     |
| C-x ^     | enlarge-window                      |
| C-x }     | enlarge-window-horizontally         |
| C-x {     | shrink-window-horizontally          |

** Buffer

| Key     | Function          |
|---------+-------------------|
| C-x C-f | find-file         |
| C-x C-s | save-buffer       |
| C-x C-b | list-buffers      |
| C-x b   | switch-to-buffer  |
| C-x s   | save-some-buffers |

Edit files with root privileges: ~/sudo::/path/file~.

** Color

| Key | Function            |
|-----+---------------------|
|     | list-colors-display |

** Game

| Key | Function |
|-----+----------|
|     | tetris   |

* org

- [[https://orgmode.org/manual/Conventions.html][Conventions]]

** Global and local cycling

| Key               | Name                       |
|-------------------+----------------------------|
| <TAB>             | org-cycle                  |
| S-<TAB>           | org-global-cycle           |
| C-u C-u <TAB>     | org-set-startup-visibility |
| C-u C-u C-u <TAB> | show-all                   |

** Motion

| Key     | Name                            |
|---------+---------------------------------|
| C-c C-n | org-next-visible-heading        |
| C-c C-p | org-previous-visible-heading    |
| C-c C-f | org-forward-heading-same-level  |
| C-c C-b | org-backward-heading-same-level |
| C-c C-u | outline-up-heading              |

** Editing

*** Insert

| Key     | Name                                    | Description              |
|---------+-----------------------------------------+--------------------------|
| M-RET   | org-meta-return                         | New heading, item or row |
| C-RET   | org-insert-heading-respect-content      |                          |
| M-S-RET | org-insert-todo-heading                 |                          |
| C-S-RET | org-insert-todo-heading-respect-content |                          |
| C-c *   | org-toggle-heading                      |                          |

*** Promote

| Key       | Name                |
|-----------+---------------------|
| M-LEFT    | org-do-promote      |
| M-RIGHT   | org-do-demote       |
| M-S-LEFT  | org-promote-subtree |
| M-S-RIGHT | org-demote-subtree  |

*** Move

| Key         | Name                  |
|-------------+-----------------------|
| M-UP        | org-move-subtree-up   |
| M-DOWN      | org-move-subtree-down |
| C-c @       | org-mark-subtree      |
| C-c C-x C-w | org-cut-subtree       |
| C-c C-x M-w | org-copy-subtree      |
| C-c C-x C-y | org-paste-subtree     |
| C-c C-w     | org-refile            |
| C-c ^       | org-sort              |

*** Clone

| Key       | Name                              |
|-----------+-----------------------------------|
| C-c C-x c | org-clone-subtree-with-time-shift |

** Sparse Trees

| Key     | Name            | Descriptiom               |
|---------+-----------------+---------------------------|
| C-c /   | org-sparse-tree |                           |
| M-g M-n | next-error      |                           |
| M-g n   |                 |                           |
| M-g M-p | previous-error  |                           |
| M-g p   |                 |                           |
| C-c C-c |                 | Clear out the sparse tree |

** Plain Lists

| Key     | Name | Description                                |
|---------+------+--------------------------------------------|
| C-c C-c |      | Toggle checkbox                            |
| C-c -   |      | Cycle through bullets                      |
| C-c C-* |      | Turn into a subtree of the current heading |

** Drawer

| Key           | Name              | Description              |
|---------------+-------------------+--------------------------|
| C-c C-x d     | org-insert-drawer |                          |
| C-u C-c C-x d |                   | Insert a property drawer |

** Tables

https://orgmode.org/manual/Built_002din-Table-Editor.html

Create table:
- Select fields separated by comma
- ~C-c |~

Heading separation:
- Start line with ~|-~
- ~<TAB>~

Shrink: To set the width of a column, one field anywhere in the column may contain just the string ~<N>~ where N specifies the width as a number of characters. See [[https://orgmode.org/manual/Column-Width-and-Alignment.html][Column Width and Alignment]]

| Key       | Name                        | Description            |
|-----------+-----------------------------+------------------------|
| C-c C-c   |                             | Re-align table         |
| <TAB>     |                             | Move to the next field |
| M-LEFT    | org-table-move-column-left  |                        |
| M-RIGHT   | org-table-move-column-right |                        |
| M-S-LEFT  | org-table-delete-column     |                        |
| M-S-RIGHT | org-table-insert-column     |                        |
| M-UP      | org-table-move-row-up)      |                        |
| M-DOWN    | org-table-move-row-down     |                        |
| M-S-UP    | org-table-kill-row          |                        |
| S-UP      | org-table-move-cell-up      |                        |
| S-DOWN    | org-table-move-cell-down    |                        |
| S-LEFT    | org-table-move-cell-left    |                        |
| S-RIGHT   | org-table-move-cell-right   |                        |
| M-S-DOWN  | org-table-insert-row        |                        |
| C-c -     | org-table-insert-hline      |                        |
| C-c ^     | org-table-sort-lines        |                        |

** Spreadsheet

- [[https://orgmode.org/manual/Org-Plot.html][Org Plot]] (install package gnuplot)

| Key   | name                                 |
|-------+--------------------------------------|
| C-c ? | org-table-field-info                 |
| C-c } | org-table-toggle-coordinate-overlays |
| C-c = | org-table-eval-formula               |

** Link

| Key     | name              |
|---------+-------------------|
| C-c C-l | org-insert-link   |
| C-c C-o | org-open-at-point |
